<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pokemon Fetch!</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <form id="addPokemonForm">
        <input type="text" id="pokemonName" placeholder="Enter Pokemon name" />
        <button type="submit" id="submitBtn">Find Pokemon</button>
      </form>

      <!-- Modal -->
      <div id="myModal" class="modal">
        <div class="modal-content">
          <span class="close" id="closeModal">&times;</span>
          <h2 id="pokemonDisplay">Pokemon Name will appear here</h2>
          <img id="pokemonImage" src="" alt="Pokemon Image" />
        </div>
      </div>

      <!-- Example Buttons -->
      <button class="button" id="button1">Button 1</button>
      <button class="button" id="button2">Button 2</button>
      <button class="button" id="button3">Button 3</button>
    </div>

    <script>
      const API_URL = "https://pokeapi.co/api/v2/pokemon";
      const form = document.getElementById("addPokemonForm");
      const pokemonNameInput = document.getElementById("pokemonName");

      // Get modal and close button elements
      const modal = document.getElementById("myModal");
      const closeModal = document.getElementById("closeModal");

      // Show the modal when the form is submitted
      form.addEventListener("submit", (event) => {
        // Prevents the form from submitting and refreshing the page
        event.preventDefault();
        const pokemonName = pokemonNameInput.value;

        // Fetch the Pokemon data from API
        fetch(`${API_URL}/${pokemonName}`)
          .then((response) => response.json())
          .then((newPokemon) => {
            // Get modal content elements
            const pokemonDisplay = document.getElementById("pokemonDisplay");
            const pokemonImage = document.getElementById("pokemonImage");

            // Set the modal to display Pokemon's name and image
            pokemonDisplay.textContent = newPokemon.name;
            pokemonImage.src =
              newPokemon.sprites.other.dream_world.front_default;

            // Show the modal
            modal.style.display = "flex";
          })
          .catch(() => {
            alert("Pokemon not found! Try again.");
          });
      });

      // Close the modal when the close button is clicked
      closeModal.onclick = function () {
        modal.style.display = "none"; // Hide the modal
      };

      // Close the modal when the user clicks outside of the modal content
      window.onclick = function (event) {
        if (event.target === modal) {
          modal.style.display = "none"; // Hide the modal
        }
      };
    </script>
  </body>
</html>
